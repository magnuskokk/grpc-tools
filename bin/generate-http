#!/bin/bash

protoc \
    -I${REPO_ROOT} \
    -I${GOPATH}/src/ \
    -I${GOPATH}/src/github.com/grpc-ecosystem/grpc-gateway/ \
    -I${GOPATH}/src/github.com/gogo/googleapis/ \
    -I${GOPATH}/src/github.com/gogo/protobuf/protobuf/ \
    --grpc-gateway_out=allow_patch_feature=false,\
Mgoogle/protobuf/timestamp.proto=github.com/gogo/protobuf/types,\
Mgoogle/protobuf/duration.proto=github.com/gogo/protobuf/types,\
Mgoogle/protobuf/empty.proto=github.com/gogo/protobuf/types,\
Mgoogle/api/annotations.proto=github.com/gogo/googleapis/google/api,\
Mgoogle/protobuf/field_mask.proto=github.com/gogo/protobuf/types:\
${REPO_ROOT}/app \
$1
